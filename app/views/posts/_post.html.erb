<div id="<%= dom_id post %>" class="mb-16 relative post-wrapper max-w-[1300px] mx-auto flex h-full" data-controller="popup">

  <!-- write review popup -->
  <div data-target="popup.modal" class="fixed hidden top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-50 lg:w-[600px] shadow-xl bg-white pb-8 pt-2 px-12 rounded-md">
    <button data-action="popup#close" class="absolute top-0 right-0 m-2 text-black text-2xl rounded-full p-2">
      &times;
    </button>
    <h3 class="text-xl font-bold mt-6 ">Write a Review</h3>
      <%= form_with(model: [@post, @review], local: true) do |form| %>
        <div class="mt-4">
          <%= form.label :rating, 'Rating', class: "block text-sm font-medium text-gray-700" %>
          <%= form.number_field :rating, in: 1..5, class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" %>
        </div>
        <div class="mt-4">
          <%= form.label :content, 'Review', class: "block text-sm font-medium text-gray-700" %>
          <%= form.text_area :content, rows: 3, class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" %>
        </div>
        <div class="mt-4">
          <%= form.submit 'Submit Review', class: "inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500" %>
        </div>
      <% end %>
  </div>

  <div id="reviewModal" data-popup-target="rmodal" class="fixed hidden w-[95%] sm:w-[80%] md:w-[65%] lg:w-[55%] max-w-[800px] max-h-[80%] mt-8 overflow-y-scroll top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-50 shadow-xl bg-white py-6 px-12 rounded-md">
    <button data-action="popup#rclose" class="absolute top-0 right-0 m-2 text-black text-2xl rounded-full p-2">
      &times;
    </button>
    <div class="w-full h-full">
      <div class="flex items-center mb-1">
        <span class="text-base font-semibold mr-3" data-popup-target="rname"></span>
        <?xml version="1.0" encoding="utf-8"?><svg class="w-5" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 55.2 38.4" style="enable-background:new 0 0 55.2 38.4" xml:space="preserve"><style type="text/css">.st0{fill:#B22234;} .st1{fill:#FFFFFF;} .st2{fill:#3C3B6E;}</style><g><path class="st0" d="M3.03,0h49.13c1.67,0,3.03,1.36,3.03,3.03v32.33c0,1.67-1.36,3.03-3.03,3.03H3.03C1.36,38.4,0,37.04,0,35.37 V3.03C0,1.36,1.36,0,3.03,0L3.03,0z"/><path class="st1" d="M0.02,2.73h55.17c0.01,0.1,0.02,0.2,0.02,0.31v2.94H0V3.03C0,2.93,0.01,2.83,0.02,2.73L0.02,2.73z M55.2,8.67 v3.24H0V8.67H55.2L55.2,8.67z M55.2,14.61v3.24H0v-3.24H55.2L55.2,14.61z M55.2,20.55v3.24H0v-3.24H55.2L55.2,20.55z M55.2,26.49 v3.24H0v-3.24H55.2L55.2,26.49z M55.2,32.43v2.93c0,0.1-0.01,0.21-0.02,0.31H0.02C0.01,35.58,0,35.47,0,35.37v-2.93H55.2 L55.2,32.43z"/><path class="st2" d="M20.8,0v20.68H0V3.03C0,1.36,1.36,0,3.03,0H20.8L20.8,0L20.8,0z"/><polygon class="st1" points="1.23,2.86 1.92,5.01 0.1,3.68 2.36,3.68 0.53,5.01 1.23,2.86"/><polygon class="st1" points="1.23,7.02 1.92,9.17 0.1,7.84 2.36,7.84 0.53,9.17 1.23,7.02"/><polygon class="st1" points="1.23,11.18 1.92,13.33 0.1,12 2.36,12 0.53,13.33 1.23,11.18"/><polygon class="st1" points="1.23,15.34 1.92,17.49 0.1,16.16 2.36,16.16 0.53,17.49 1.23,15.34"/><polygon class="st1" points="3.67,0.78 4.37,2.93 2.54,1.6 4.81,1.6 2.97,2.93 3.67,0.78"/><polygon class="st1" points="3.67,4.94 4.37,7.09 2.54,5.76 4.81,5.76 2.97,7.09 3.67,4.94"/><polygon class="st1" points="3.67,9.1 4.37,11.25 2.54,9.92 4.81,9.92 2.97,11.25 3.67,9.1"/><polygon class="st1" points="3.67,13.26 4.37,15.41 2.54,14.08 4.81,14.08 2.97,15.41 3.67,13.26"/><polygon class="st1" points="3.67,17.42 4.37,19.57 2.54,18.24 4.81,18.24 2.97,19.57 3.67,17.42"/><polygon class="st1" points="6.12,2.86 6.82,5.01 4.99,3.68 7.25,3.68 5.42,5.01 6.12,2.86"/><polygon class="st1" points="6.12,7.02 6.82,9.17 4.99,7.84 7.25,7.84 5.42,9.17 6.12,7.02"/><polygon class="st1" points="6.12,11.18 6.82,13.33 4.99,12 7.25,12 5.42,13.33 6.12,11.18"/><polygon class="st1" points="6.12,15.34 6.82,17.49 4.99,16.16 7.25,16.16 5.42,17.49 6.12,15.34"/><polygon class="st1" points="8.57,0.78 9.26,2.93 7.44,1.6 9.7,1.6 7.87,2.93 8.57,0.78"/><polygon class="st1" points="8.57,4.94 9.26,7.09 7.44,5.76 9.7,5.76 7.87,7.09 8.57,4.94"/><polygon class="st1" points="8.57,9.1 9.26,11.25 7.44,9.92 9.7,9.92 7.87,11.25 8.57,9.1"/><polygon class="st1" points="8.57,13.26 9.26,15.41 7.44,14.08 9.7,14.08 7.87,15.41 8.57,13.26"/><polygon class="st1" points="8.57,17.42 9.26,19.57 7.44,18.24 9.7,18.24 7.87,19.57 8.57,17.42"/><polygon class="st1" points="11.01,2.86 11.71,5.01 9.88,3.68 12.14,3.68 10.31,5.01 11.01,2.86"/><polygon class="st1" points="11.01,7.02 11.71,9.17 9.88,7.84 12.14,7.84 10.31,9.17 11.01,7.02"/><polygon class="st1" points="11.01,11.18 11.71,13.33 9.88,12 12.14,12 10.31,13.33 11.01,11.18"/><polygon class="st1" points="11.01,15.34 11.71,17.49 9.88,16.16 12.14,16.16 10.31,17.49 11.01,15.34"/><polygon class="st1" points="13.46,0.78 14.16,2.93 12.33,1.6 14.59,1.6 12.76,2.93 13.46,0.78"/><polygon class="st1" points="13.46,4.94 14.16,7.09 12.33,5.76 14.59,5.76 12.76,7.09 13.46,4.94"/><polygon class="st1" points="13.46,9.1 14.16,11.25 12.33,9.92 14.59,9.92 12.76,11.25 13.46,9.1"/><polygon class="st1" points="13.46,13.26 14.16,15.41 12.33,14.08 14.59,14.08 12.76,15.41 13.46,13.26"/><polygon class="st1" points="13.46,17.42 14.16,19.57 12.33,18.24 14.59,18.24 12.76,19.57 13.46,17.42"/><polygon class="st1" points="15.9,2.86 16.6,5.01 14.77,3.68 17.03,3.68 15.21,5.01 15.9,2.86"/><polygon class="st1" points="15.9,7.02 16.6,9.17 14.77,7.84 17.03,7.84 15.21,9.17 15.9,7.02"/><polygon class="st1" points="15.9,11.18 16.6,13.33 14.77,12 17.03,12 15.21,13.33 15.9,11.18"/><polygon class="st1" points="15.9,15.34 16.6,17.49 14.77,16.16 17.03,16.16 15.21,17.49 15.9,15.34"/><polygon class="st1" points="18.35,0.78 19.05,2.93 17.22,1.6 19.48,1.6 17.65,2.93 18.35,0.78"/><polygon class="st1" points="18.35,4.94 19.05,7.09 17.22,5.76 19.48,5.76 17.65,7.09 18.35,4.94"/><polygon class="st1" points="18.35,9.1 19.05,11.25 17.22,9.92 19.48,9.92 17.65,11.25 18.35,9.1"/><polygon class="st1" points="18.35,13.26 19.05,15.41 17.22,14.08 19.48,14.08 17.65,15.41 18.35,13.26"/><polygon class="st1" points="18.35,17.42 19.05,19.57 17.22,18.24 19.48,18.24 17.65,19.57 18.35,17.42"/></g></svg>
        <span class="text-gray-400 font-light text-base ml-1.5">United States</span>
        <span class="mx-2 text-gray-400">|</span>
        <span class="text-base" data-popup-target="rrating"></span>
      </div>
      <p data-popup-target="rcontent" class="font-light"></p>
    </div>
  </div>


  <div class="h-full overflow-y-scroll w-3/5 pr-8">
    <p class="my-6 pl-1 flex items-center">
      <a href="/">
        <svg class="w-[20px] h-[20px] text-gray-800 " aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
          <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m4 12 8-8 8 8M6 10.5V19a1 1 0 0 0 1 1h3v-3a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3h3a1 1 0 0 0 1-1v-8.5"/>
        </svg>
      </a>
      <span class="mx-2 text-gray-300">/</span>
      <a href="/posts?category=<%= post.category %>"><%= post.category %></a>
    </p>
    <h1 class="text-4xl text-gray-800 font-semibold"><%= post.job_title %></h1>
    <div class="my-2 flex items-center">
      <svg class="w-16 h-16 text-gray-800" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M12 21a9 9 0 1 0 0-18 9 9 0 0 0 0 18Zm0 0a8.949 8.949 0 0 0 4.951-1.488A3.987 3.987 0 0 0 13 16h-2a3.987 3.987 0 0 0-3.951 3.512A8.948 8.948 0 0 0 12 21Zm3-11a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"/>
      </svg>
      <div class="mx-2 my-auto vr-end">
        <p><%= post.user.email %></p>
        <a href="#" class="flex font-bold text-[16px]">
          <svg class="w-5 h-5 text-gray-800 mr-1" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
            <path d="M13.849 4.22c-.684-1.626-3.014-1.626-3.698 0L8.397 8.387l-4.552.361c-1.775.14-2.495 2.331-1.142 3.477l3.468 2.937-1.06 4.392c-.413 1.713 1.472 3.067 2.992 2.149L12 19.35l3.897 2.354c1.52.918 3.405-.436 2.992-2.15l-1.06-4.39 3.468-2.938c1.353-1.146.633-3.336-1.142-3.477l-4.552-.36-1.754-4.17Z"/>
          </svg>
          <%= @post.average_rating || 'No ratings yet' %>
        </a>
      </div>
      <p class="text-center ml-8 -mb-2">$$ / hour</p>
    </div>
    <hr class="mb-8">
    <% if post.images.attached? %>
      <!-- make carousel -->
      <div class="relative pl-6" data-controller="carousel">
        <div class="carousel relative overflow-hidden">
          <div data-carousel-target="slides" class="flex transition-transform duration-300">
            <% @post.images.each_with_index do |image, index| %>
              <div class="carousel-item w-full relative pb-[56.25%] flex-shrink-0">
                <%= image_tag(image, class: "absolute inset-0 w-full h-full object-cover rounded-xl") %>
              </div>
            <% end %>
          </div>
        </div>
    <!-- Navigation Arrows -->
      <button data-action="carousel#previous" class="absolute custom-hover-scale left-0.5 top-1/2 transform -translate-y-1/2 py-2 shadow-lg px-4 bg-white rounded-full text-gray-800">
        &#10094;
      </button>
      <button data-action="carousel#next" class="absolute custom-hover-scale -right-6 top-1/2 transform -translate-y-1/2 py-2 px-4 shadow-lg bg-white rounded-full text-gray-800">
        &#10095;
      </button>
    </div>

    <% else %>
      <div class="relative pb-[56.25%] bg-gray-100 rounded-md"></div>
    <% end %>

    <div class="reviews my-6">
      <div class="flex justify-between items-end mb-6">
        <h3 class="text-xl text-gray-800 font-medium">What people loved about this service</h3>
        <a class="hover:underline font-light cursor-pointer">See all reviews</a>
      </div>
      <!-- make carousel -->
      <div class="relative" data-controller="carousel">
        <!-- Navigation Arrows -->
        <div class="w-full flex justify-end">
          <button data-action="carousel#previous" class="custom-hover-scale text-[12px] mr-2 w-8 h-8 shadow-lg bg-white rounded-full text-gray-800">
            &#10094;
          </button>
          <button data-action="carousel#next" class="custom-hover-scale text-[12px] w-8 h-8 shadow-lg bg-white rounded-full text-gray-800">
            &#10095;
          </button>
        </div>
        <div class="carousel relative overflow-hidden ">
          <div data-carousel-target="slides" class="flex h-44 transition-transform duration-300">
            <% @reviews.each_with_index do |review, index| %>
              <div class="carousel-item w-full relative flex-shrink-0">
                <div class="review py-4 absolute  w-full object-cover px-6 border border-gray-200 mt-2 rounded" data-controller="review">
                  <div class="flex items-center mb-1">
                    <span class="text-sm font-semibold mr-3"><%= review.user.email %></span>
                    <?xml version="1.0" encoding="utf-8"?><svg class="w-5" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 55.2 38.4" style="enable-background:new 0 0 55.2 38.4" xml:space="preserve"><style type="text/css">.st0{fill:#B22234;} .st1{fill:#FFFFFF;} .st2{fill:#3C3B6E;}</style><g><path class="st0" d="M3.03,0h49.13c1.67,0,3.03,1.36,3.03,3.03v32.33c0,1.67-1.36,3.03-3.03,3.03H3.03C1.36,38.4,0,37.04,0,35.37 V3.03C0,1.36,1.36,0,3.03,0L3.03,0z"/><path class="st1" d="M0.02,2.73h55.17c0.01,0.1,0.02,0.2,0.02,0.31v2.94H0V3.03C0,2.93,0.01,2.83,0.02,2.73L0.02,2.73z M55.2,8.67 v3.24H0V8.67H55.2L55.2,8.67z M55.2,14.61v3.24H0v-3.24H55.2L55.2,14.61z M55.2,20.55v3.24H0v-3.24H55.2L55.2,20.55z M55.2,26.49 v3.24H0v-3.24H55.2L55.2,26.49z M55.2,32.43v2.93c0,0.1-0.01,0.21-0.02,0.31H0.02C0.01,35.58,0,35.47,0,35.37v-2.93H55.2 L55.2,32.43z"/><path class="st2" d="M20.8,0v20.68H0V3.03C0,1.36,1.36,0,3.03,0H20.8L20.8,0L20.8,0z"/><polygon class="st1" points="1.23,2.86 1.92,5.01 0.1,3.68 2.36,3.68 0.53,5.01 1.23,2.86"/><polygon class="st1" points="1.23,7.02 1.92,9.17 0.1,7.84 2.36,7.84 0.53,9.17 1.23,7.02"/><polygon class="st1" points="1.23,11.18 1.92,13.33 0.1,12 2.36,12 0.53,13.33 1.23,11.18"/><polygon class="st1" points="1.23,15.34 1.92,17.49 0.1,16.16 2.36,16.16 0.53,17.49 1.23,15.34"/><polygon class="st1" points="3.67,0.78 4.37,2.93 2.54,1.6 4.81,1.6 2.97,2.93 3.67,0.78"/><polygon class="st1" points="3.67,4.94 4.37,7.09 2.54,5.76 4.81,5.76 2.97,7.09 3.67,4.94"/><polygon class="st1" points="3.67,9.1 4.37,11.25 2.54,9.92 4.81,9.92 2.97,11.25 3.67,9.1"/><polygon class="st1" points="3.67,13.26 4.37,15.41 2.54,14.08 4.81,14.08 2.97,15.41 3.67,13.26"/><polygon class="st1" points="3.67,17.42 4.37,19.57 2.54,18.24 4.81,18.24 2.97,19.57 3.67,17.42"/><polygon class="st1" points="6.12,2.86 6.82,5.01 4.99,3.68 7.25,3.68 5.42,5.01 6.12,2.86"/><polygon class="st1" points="6.12,7.02 6.82,9.17 4.99,7.84 7.25,7.84 5.42,9.17 6.12,7.02"/><polygon class="st1" points="6.12,11.18 6.82,13.33 4.99,12 7.25,12 5.42,13.33 6.12,11.18"/><polygon class="st1" points="6.12,15.34 6.82,17.49 4.99,16.16 7.25,16.16 5.42,17.49 6.12,15.34"/><polygon class="st1" points="8.57,0.78 9.26,2.93 7.44,1.6 9.7,1.6 7.87,2.93 8.57,0.78"/><polygon class="st1" points="8.57,4.94 9.26,7.09 7.44,5.76 9.7,5.76 7.87,7.09 8.57,4.94"/><polygon class="st1" points="8.57,9.1 9.26,11.25 7.44,9.92 9.7,9.92 7.87,11.25 8.57,9.1"/><polygon class="st1" points="8.57,13.26 9.26,15.41 7.44,14.08 9.7,14.08 7.87,15.41 8.57,13.26"/><polygon class="st1" points="8.57,17.42 9.26,19.57 7.44,18.24 9.7,18.24 7.87,19.57 8.57,17.42"/><polygon class="st1" points="11.01,2.86 11.71,5.01 9.88,3.68 12.14,3.68 10.31,5.01 11.01,2.86"/><polygon class="st1" points="11.01,7.02 11.71,9.17 9.88,7.84 12.14,7.84 10.31,9.17 11.01,7.02"/><polygon class="st1" points="11.01,11.18 11.71,13.33 9.88,12 12.14,12 10.31,13.33 11.01,11.18"/><polygon class="st1" points="11.01,15.34 11.71,17.49 9.88,16.16 12.14,16.16 10.31,17.49 11.01,15.34"/><polygon class="st1" points="13.46,0.78 14.16,2.93 12.33,1.6 14.59,1.6 12.76,2.93 13.46,0.78"/><polygon class="st1" points="13.46,4.94 14.16,7.09 12.33,5.76 14.59,5.76 12.76,7.09 13.46,4.94"/><polygon class="st1" points="13.46,9.1 14.16,11.25 12.33,9.92 14.59,9.92 12.76,11.25 13.46,9.1"/><polygon class="st1" points="13.46,13.26 14.16,15.41 12.33,14.08 14.59,14.08 12.76,15.41 13.46,13.26"/><polygon class="st1" points="13.46,17.42 14.16,19.57 12.33,18.24 14.59,18.24 12.76,19.57 13.46,17.42"/><polygon class="st1" points="15.9,2.86 16.6,5.01 14.77,3.68 17.03,3.68 15.21,5.01 15.9,2.86"/><polygon class="st1" points="15.9,7.02 16.6,9.17 14.77,7.84 17.03,7.84 15.21,9.17 15.9,7.02"/><polygon class="st1" points="15.9,11.18 16.6,13.33 14.77,12 17.03,12 15.21,13.33 15.9,11.18"/><polygon class="st1" points="15.9,15.34 16.6,17.49 14.77,16.16 17.03,16.16 15.21,17.49 15.9,15.34"/><polygon class="st1" points="18.35,0.78 19.05,2.93 17.22,1.6 19.48,1.6 17.65,2.93 18.35,0.78"/><polygon class="st1" points="18.35,4.94 19.05,7.09 17.22,5.76 19.48,5.76 17.65,7.09 18.35,4.94"/><polygon class="st1" points="18.35,9.1 19.05,11.25 17.22,9.92 19.48,9.92 17.65,11.25 18.35,9.1"/><polygon class="st1" points="18.35,13.26 19.05,15.41 17.22,14.08 19.48,14.08 17.65,15.41 18.35,13.26"/><polygon class="st1" points="18.35,17.42 19.05,19.57 17.22,18.24 19.48,18.24 17.65,19.57 18.35,17.42"/></g></svg>
                    <span class="text-gray-400 font-light text-sm ml-1.5">United States</span>
                    <span class="mx-2 text-gray-400">|</span>
                    <span class="text-sm"><%= review.rating %>.0</span>
                  </div>
                  <div class="font-light text-gray-800 line-clamp-2" id="short-review-<%= review.id %>" data-review-target="shortReview"><%= review.content %></div>
                  <div class="font-light text-gray-800 hidden" id="full-review-<%= review.id %>" data-review-target="fullReview"><%= review.content %></div>

                  <button data-action="popup#ropen" data-popup-rcontent="<%= review.content %>" data-popup-rname="<%= review.user.email %>" data-popup-rrating="<%= review.rating %>.0" class="text-gray-800 font-light underline mb-2 text-sm">
                    See More
                  </button>

                  <p class="text-sm text-gray-400 font-light">
                    <% if (Time.current - review.created_at) < 59.minutes %>
                      Just now
                    <% elsif (Time.current - review.created_at) < 24.hours %>
                      <%= distance_of_time_in_hours(review.created_at) %> ago
                    <% elsif (Time.current - review.created_at) < 1.week %>
                      <%= time_ago_in_words(review.created_at) %> ago
                    <% else %>
                      <%= (Time.current - review.created_at).div(1.week).ceil %> weeks ago
                    <% end %>
                  </p>
                </div>
              </div>
            <% end %>
          </div>
        </div>
      </div>
    </div>
    <div>
      <h1 class="text-2xl text-gray-800 font-medium mb-6">About</h1>
      <p class="md:text-lg text-gray-800 font-light"><%= post.job_description %></p>
    </div>
  </div>

  <div class="h-full -mt-4 w-2/5 overflow-hidden p-8 fixed right-0">
    <div class="max-w-[450px] pr-4">
      <div class="flex items-center justify-end">
        <% if user_signed_in? %>
          <% if current_user.saved_posts.exists?(post: post) %>
            <%= button_to post_saved_post_path(post), method: :delete do %>
              <svg class="w-8 h-8 mr-3 -mb-[2px] transform hover:scale-110 transition duration-200 ease-in-out text-red-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12.01 6.001C6.5 1 1 8 5.782 13.001L12.011 20l6.23-7C23 8 17.5 1 12.01 6.002Z"/>
              </svg>
            <% end %>
          <% else %>
            <%= button_to post_saved_post_path(post), method: :post do %>
              <svg class="w-8 h-8 mr-3 -mb-[2px] transform hover:scale-110 transition duration-200 ease-in-out text-gray-800" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12.01 6.001C6.5 1 1 8 5.782 13.001L12.011 20l6.23-7C23 8 17.5 1 12.01 6.002Z"/>
              </svg>
            <% end %>
          <% end %>
        <% end %>
        <button class="mr-2 px-3 py-1 border border-gray-400 rounded-lg hover:bg-gray-50">
          <svg class="w-6 h-6 text-gray-800" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
            <path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.926 10.898 15 7.727m-7.074 5.39L15 16.29M8 12a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Zm12 5.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Zm0-11a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Z"/>
          </svg>
        </button>
        <div class="relative" data-controller="dropdown">
          <button data-dropdown-target="toggle" data-action="click->dropdown#toggle" class="mr-2 px-3 py-1 border border-gray-400 rounded-lg hover:bg-gray-50">
            <svg class="w-6 h-6 text-gray-800" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
              <path stroke="currentColor" stroke-linecap="round" stroke-width="3" d="M6 12h.01m6 0h.01m5.99 0h.01"/>
            </svg>
          </button>
          <div data-dropdown-target="menu" class="absolute top-10 hidden right-0 z-10 bg-white py-2 shadow-xl rounded">
            <button data-action="popup#open" class="whitespace-nowrap hover:bg-gray-100 py-1 px-4 flex">
              <svg class="w-6 h-6 text-gray-800 mr-2" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                <path stroke="currentColor" stroke-width="2" d="M11.083 5.104c.35-.8 1.485-.8 1.834 0l1.752 4.022a1 1 0 0 0 .84.597l4.463.342c.9.069 1.255 1.2.556 1.771l-3.33 2.723a1 1 0 0 0-.337 1.016l1.03 4.119c.214.858-.71 1.552-1.474 1.106l-3.913-2.281a1 1 0 0 0-1.008 0L7.583 20.8c-.764.446-1.688-.248-1.474-1.106l1.03-4.119A1 1 0 0 0 6.8 14.56l-3.33-2.723c-.698-.571-.342-1.702.557-1.771l4.462-.342a1 1 0 0 0 .84-.597l1.753-4.022Z"/>
              </svg>
              Write a Review
            </button>
          </div>
        </div>
      </div>
      <div class="mt-4 flex flex-col items-center p-6 border rounded-sm border-gray-600">
        <h1 class="text-xl">Schedule</h1>
        <div id="date_picker" class="" data-controller="datepicker">
          <div id="date_picker_input">
            <input type="text" id="date" class="hidden" readonly data-datepicker-target="input"/>
          </div>
          <div id="date_picker_calendar">
            <div id="calendar_header">
            <button class="cal-btn back" data-action="click->datepicker#setHeaderNav" data-offset="-1"><img
                src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABJUlEQVR4nO2Uv0oDQRCHR9BKrAQJ2FgIdnc7njtzSbMzd7lGC80T5DXMW+gzpNJHsPEJYuELBA60EBELsfIfBGIixvNyt0IKP9h2vt3fb1iAfxaCXZt0DGuOrO8+jmHNQ3JHnwLDeutrOI4lJDcTAcngDwSDSUSkCbK++RSEJAdfejCkfX+31/63oq1N15H0rn7Bch80s42Z22SsdGsLrHQLVxZJLioLSC8BYKlQELLbQpanCrk/Y+y2C4dPFd6bP3s9hrI455aR9GqO219HUbRSWjB6xV5qDcnL7wJ5RZs2oQpIelqi2BOoShBkq0g6LMg932m11qAOhnX/5+zlEHyALOczhp+BL6x1DSR9mPoOHsM42QSfGE6yUR+kQxO7ttfhC80HheuaG9wAq10AAAAASUVORK5CYII="></button>
            <span data-datepicker-target="headerTitle"></span>
            <button class="cal-btn front" data-action="click->datepicker#setHeaderNav" data-offset="1"><img
                  src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABJUlEQVR4nO2Uv0oDQRCHR9BKrAQJ2FgIdnc7njtzSbMzd7lGC80T5DXMW+gzpNJHsPEJYuELBA60EBELsfIfBGIixvNyt0IKP9h2vt3fb1iAfxaCXZt0DGuOrO8+jmHNQ3JHnwLDeutrOI4lJDcTAcngDwSDSUSkCbK++RSEJAdfejCkfX+31/63oq1N15H0rn7Bch80s42Z22SsdGsLrHQLVxZJLioLSC8BYKlQELLbQpanCrk/Y+y2C4dPFd6bP3s9hrI455aR9GqO219HUbRSWjB6xV5qDcnL7wJ5RZs2oQpIelqi2BOoShBkq0g6LMg932m11qAOhnX/5+zlEHyALOczhp+BL6x1DSR9mPoOHsM42QSfGE6yUR+kQxO7ttfhC80HheuaG9wAq10AAAAASUVORK5CYII="></button>
            </div>
            <div id="cal_wrapper">
              <div id="cal_days" data-datepicker-target="days"></div>
              <div id="calendar_main" data-datepicker-target="calendarMain"></div>
            </div>
          </div>
        </div>
        <button class="w-full flex justify-center items-center py-3 bg-gray-800 hover:bg-gray-600 text-white text-lg my-4 rounded-sm text-center mx-4">
          Continue
          <svg class="w-6 ml-2 h-6 text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 12H5m14 0-4 4m4-4-4-4"/>
          </svg>
        </button>
        <%= link_to 'Contact Seller', new_with_receiver_messages_path(user_id: post.user.id), class:"w-full py-3 border border-gray-800 text-gray-800 text-center text-lg rounded-sm mx-4 hover:bg-gray-100" %>
      </div>
    </div>
  </div>
</div>
