<div id="<%= dom_id post %>" class="mb-16 post-wrapper max-w-[1300px] mx-auto flex h-full">

  <div class="h-full overflow-y-scroll w-3/5 pr-8">
    <p class="my-6 pl-1 flex items-center">
      <a href="/">
        <svg class="w-[20px] h-[20px] text-gray-800 " aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
          <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m4 12 8-8 8 8M6 10.5V19a1 1 0 0 0 1 1h3v-3a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3h3a1 1 0 0 0 1-1v-8.5"/>
        </svg>
      </a>
      <span class="mx-2 text-gray-300">/</span>
      <a href="/posts?category=<%= post.category %>"><%= post.category %></a>
    </p>
    <h1 class="text-4xl text-gray-800 font-semibold"><%= post.job_title %></h1>
    <div class="my-2 flex items-center">
      <svg class="w-16 h-16 text-gray-800" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M12 21a9 9 0 1 0 0-18 9 9 0 0 0 0 18Zm0 0a8.949 8.949 0 0 0 4.951-1.488A3.987 3.987 0 0 0 13 16h-2a3.987 3.987 0 0 0-3.951 3.512A8.948 8.948 0 0 0 12 21Zm3-11a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"/>
      </svg>
      <div class="mx-2 my-auto vr-end">
        <p><%= post.user.email %></p>
        <a href="#" class="flex font-bold text-[16px]">
          <svg class="w-5 h-5 text-gray-800 mr-1" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
            <path d="M13.849 4.22c-.684-1.626-3.014-1.626-3.698 0L8.397 8.387l-4.552.361c-1.775.14-2.495 2.331-1.142 3.477l3.468 2.937-1.06 4.392c-.413 1.713 1.472 3.067 2.992 2.149L12 19.35l3.897 2.354c1.52.918 3.405-.436 2.992-2.15l-1.06-4.39 3.468-2.938c1.353-1.146.633-3.336-1.142-3.477l-4.552-.36-1.754-4.17Z"/>
          </svg>
          4.2
        </a>
      </div>
      <p class="text-center ml-8 -mb-2">$$ / hour</p>
    </div>
    <hr class="mb-8">
    <% if post.images.attached? %>
      <!-- make carousel -->
      <div class="relative pl-6" data-controller="carousel">
        <div class="carousel relative overflow-hidden">
          <div data-carousel-target="slides" class="flex transition-transform duration-300">
            <% @post.images.each_with_index do |image, index| %>
              <div class="carousel-item w-full relative pb-[56.25%] flex-shrink-0">
                <%= image_tag(image, class: "absolute inset-0 w-full h-full object-cover rounded-xl") %>
              </div>
            <% end %>
          </div>
        </div>
    <!-- Navigation Arrows -->
      <button data-action="carousel#previous" class="absolute custom-hover-scale left-0.5 top-1/2 transform -translate-y-1/2 py-2 shadow-lg px-4 bg-white rounded-full text-gray-800">
        &#10094;
      </button>
      <button data-action="carousel#next" class="absolute custom-hover-scale -right-6 top-1/2 transform -translate-y-1/2 py-2 px-4 shadow-lg bg-white rounded-full text-gray-800">
        &#10095;
      </button>
    </div>

    <% else %>
      <div class="relative pb-[56.25%] bg-gray-100 rounded-md"></div>
    <% end %>
  </div>

  <div class="h-full -mt-4 w-2/5 overflow-hidden p-8 fixed right-0">
    <div class="max-w-[450px] pr-4">
      <div class="flex items-center justify-end">
        <% if user_signed_in? %>
          <% if current_user.saved_posts.exists?(post: post) %>
            <%= button_to post_saved_post_path(post), method: :delete do %>
              <svg class="w-8 h-8 mr-3 -mb-[2px] transform hover:scale-110 transition duration-200 ease-in-out text-red-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12.01 6.001C6.5 1 1 8 5.782 13.001L12.011 20l6.23-7C23 8 17.5 1 12.01 6.002Z"/>
              </svg>
            <% end %>
          <% else %>
            <%= button_to post_saved_post_path(post), method: :post do %>
              <svg class="w-8 h-8 mr-3 -mb-[2px] transform hover:scale-110 transition duration-200 ease-in-out text-gray-800" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12.01 6.001C6.5 1 1 8 5.782 13.001L12.011 20l6.23-7C23 8 17.5 1 12.01 6.002Z"/>
              </svg>
            <% end %>
          <% end %>
        <% end %>
        <button class="mr-2 px-3 py-1 border border-gray-400 rounded-lg hover:bg-gray-50">
          <svg class="w-6 h-6 text-gray-800" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
            <path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.926 10.898 15 7.727m-7.074 5.39L15 16.29M8 12a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Zm12 5.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Zm0-11a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Z"/>
          </svg>
        </button>
        <button class="mr-2 px-3 py-1 border border-gray-400 rounded-lg hover:bg-gray-50">
          <svg class="w-6 h-6 text-gray-800" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
            <path stroke="currentColor" stroke-linecap="round" stroke-width="3" d="M6 12h.01m6 0h.01m5.99 0h.01"/>
          </svg>
        </button>
      </div>
      <div class="mt-4 flex flex-col items-center p-6 border rounded-sm border-gray-600">
        <h1 class="text-xl">Schedule</h1>
        <div id="date_picker" class="" data-controller="datepicker">
          <div id="date_picker_input">
            <input type="text" id="date" class="hidden" readonly data-datepicker-target="input"/>
          </div>
          <div id="date_picker_calendar">
            <div id="calendar_header">
            <button class="cal-btn back" data-action="click->datepicker#setHeaderNav" data-offset="-1"><img
                src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABJUlEQVR4nO2Uv0oDQRCHR9BKrAQJ2FgIdnc7njtzSbMzd7lGC80T5DXMW+gzpNJHsPEJYuELBA60EBELsfIfBGIixvNyt0IKP9h2vt3fb1iAfxaCXZt0DGuOrO8+jmHNQ3JHnwLDeutrOI4lJDcTAcngDwSDSUSkCbK++RSEJAdfejCkfX+31/63oq1N15H0rn7Bch80s42Z22SsdGsLrHQLVxZJLioLSC8BYKlQELLbQpanCrk/Y+y2C4dPFd6bP3s9hrI455aR9GqO219HUbRSWjB6xV5qDcnL7wJ5RZs2oQpIelqi2BOoShBkq0g6LMg932m11qAOhnX/5+zlEHyALOczhp+BL6x1DSR9mPoOHsM42QSfGE6yUR+kQxO7ttfhC80HheuaG9wAq10AAAAASUVORK5CYII="></button>
            <span data-datepicker-target="headerTitle"></span>
            <button class="cal-btn front" data-action="click->datepicker#setHeaderNav" data-offset="1"><img
                  src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABJUlEQVR4nO2Uv0oDQRCHR9BKrAQJ2FgIdnc7njtzSbMzd7lGC80T5DXMW+gzpNJHsPEJYuELBA60EBELsfIfBGIixvNyt0IKP9h2vt3fb1iAfxaCXZt0DGuOrO8+jmHNQ3JHnwLDeutrOI4lJDcTAcngDwSDSUSkCbK++RSEJAdfejCkfX+31/63oq1N15H0rn7Bch80s42Z22SsdGsLrHQLVxZJLioLSC8BYKlQELLbQpanCrk/Y+y2C4dPFd6bP3s9hrI455aR9GqO219HUbRSWjB6xV5qDcnL7wJ5RZs2oQpIelqi2BOoShBkq0g6LMg932m11qAOhnX/5+zlEHyALOczhp+BL6x1DSR9mPoOHsM42QSfGE6yUR+kQxO7ttfhC80HheuaG9wAq10AAAAASUVORK5CYII="></button>
            </div>
            <div id="cal_wrapper">
              <div id="cal_days" data-datepicker-target="days"></div>
              <div id="calendar_main" data-datepicker-target="calendarMain"></div>
            </div>
          </div>
        </div>
        <button class="w-full flex justify-center items-center py-3 bg-gray-800 hover:bg-gray-600 text-white text-lg my-4 rounded-sm text-center mx-4">
          Continue
          <svg class="w-6 ml-2 h-6 text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 12H5m14 0-4 4m4-4-4-4"/>
          </svg>
        </button>
        <%= link_to 'Contact Seller', new_with_receiver_messages_path(user_id: post.user.id), class:"w-full py-3 border border-gray-800 text-gray-800 text-center text-lg rounded-sm mx-4 hover:bg-gray-100" %>
      </div>
    </div>
  </div>
</div>
